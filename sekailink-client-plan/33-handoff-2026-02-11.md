# Handoff 2026-02-11 (Pause)

Objectif: figer l'etat du travail pour reprendre demain sans perdre le contexte.

## Ce qui est termine

1) Support Ship of Harkinian (patchless, client embedded)
- Module runtime ajoute: `client/runtime/modules/oot_soh/manifest.json:2`
- Game setup ajoute: `client/app/src/data/gameSetup.ts:78`
- Flow patchless dans l'autolaunch: `client/app/electron/main.cjs:2728`
- Note utilisateur au launch SoH: `client/app/electron/main.cjs:2767`

2) Correctif lobby pour launch patchless (SoH)
- Liste jeux patchless autorises: `client/app/src/pages/Lobby.tsx:100`
- Detection support patchless: `client/app/src/pages/Lobby.tsx:102`
- Mapping `slot -> game`: `client/app/src/pages/Lobby.tsx:1110`
- Gating launch corrige (`hasDownloads || canPatchlessLaunch`): `client/app/src/pages/Lobby.tsx:1456`
- Bouton Launch/menu corrige: `client/app/src/pages/Lobby.tsx:1532`
- Bouton Launch rapide (icone) corrige: `client/app/src/pages/Lobby.tsx:1578`

3) Build valide apres patch
- AppImage: `client/app/release/SekaiLink-client-0.0.2-beta.0.2-topaz.AppImage`
- SHA256: `5fc79443fab73b7cf00515bc8c3a299cfaa07fb67c3ff08cb1f2159b13b3e228`

## Etat ALTTP et OoT (important)

Les modules existent, mais je ne peux pas les considerer "fonctionnels" dans l'etat actuel.

1) Manifests presents
- ALTTP: `client/runtime/modules/alttp_bizhawk/manifest.json:2`
- OoT: `client/runtime/modules/oot_bizhawk/manifest.json:2`

2) Bloquant 1: connecteurs Lua placeholders
- ALTTP: `client/runtime/modules/alttp_bizhawk/lua/connector_alttp.lua:1`
- OoT: `client/runtime/modules/oot_bizhawk/lua/connector_oot.lua:1`

3) Bloquant 2: routage client BizHawk trop generique
- Pour tout `emu === "bizhawk"`, SekaiLink lance le wrapper BizHawk generique:
  `client/app/electron/main.cjs:3033`
- Ce comportement ne gere pas les cas qui demandent un client AP specifique (ex: OoT client dedie).

4) Contraintes cote AP (repo actuel)
- ALTTP dans ce repo est un client SNI:
  `worlds/alttp/Client.py:473`
- OoT indique explicitement l'usage `connector_oot.lua`:
  `worlds/oot/Client.py:22`

## Plan de reprise demain (ordre recommande)

1) Verrouiller la strategie ALTTP
- Option A (techniquement propre): classer ALTTP en family SNI et attendre/creer le wrapper SNI.
- Option B (temporaire): retirer ALTTP de "supporte/launchable" pour eviter faux positif tant que SNI n'est pas branche.

2) Finaliser OoT BizHawk
- Integrer un vrai connecteur OoT (pas placeholder).
- Ajouter un wrapper OoT dedie (ou route dediee) au lieu du wrapper BizHawk generique.
- Conserver le WebTracker OoT via la webview deja en place (`tracker_web_url` + `launchWebTrackerWindow`).

3) Validation manuelle minimale
- OoT:
  - launch patch `.apz5`
  - BizHawk connecte
  - AP client connecte (slot auth OK)
  - web tracker auto-ouvert
- ALTTP:
  - selon decision (SNI ou desactive temporairement), verifier que le UI ne pretend pas "fonctionnel" si ce n'est pas vrai.

## Notes de conduite pour la reprise

- L'utilisateur a demande d'arreter le dev maintenant et de documenter dans `sekailink-client-plan`.
- Ne pas repartir sur des refactors larges: finir OoT d'abord, puis traiter ALTTP selon la decision SNI.
